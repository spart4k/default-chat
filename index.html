<html>
 <head>
  <meta charset="utf-8">
  <title>Chat CRM</title>
  <!--<meta content="width=device-width, initial-scale=1" name="viewport" />-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 </head>
 <body>
  <div class="body">
    <div class="leftbar">

    </div>
    <div class="chat" id="chat">
      <div class="wrap">
        <div class="chat-contacts" :class="[chat.settings.fullScreen ? 'fullScreen' : 'defaultScreen', isMobile ? 'isMobile' : '']">
          <div class="chat-contacts__search">
            <div class="search">
              <input v-model="chat.searchField" placeholder="Поиск" type="text">
              <div v-if="chat.searchField" @click="clearSearch" class="search-close">
                <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="black"/>
                </svg>
              </div>
            </div>
          </div>
          <div class="chat-contacts-wrap">
            <div v-if="searchedContacts.length" class="chat-contacts-list">
              <contact v-for="(item) in searchedContacts" :key="item.id" :active="item.active" :class="item.active ? 'active' : ''" @click="openDialog(item)" :contact="item" :chat="chat" class="chat-contacts-list__dialog contact" />
            </div>
            <div v-else class="chat-contacts__notfound">
              Ничего не найдено
            </div>
          </div>
          <div class="chat-contacts__panel">
            <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
            <!--<svg @click="openNewDialog" class="addDialog" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 50 50" xml:space="preserve">
              <circle style="fill:#002F55;" cx="25" cy="25" r="25"/>
              <line style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="25" y1="13" x2="25" y2="38"/>
              <line style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" x1="37.5" y1="25" x2="12.5" y2="25"/>
            </svg>-->
            <button @click="openNewDialog" class="chat-btn full-width">
              Создать диалог
            </button>
          </div>
        </div>
        <div class="chat-dialog">
          <div v-if="activeDialog" :class="[chat.answering || chat.forwarding.messagesForForward.length ? 'paddingAnswering' : '', activeDialog.newMessage.attachment.files.length ? 'paddingFiles' : '']" class="chat-dialog-wrap">
            <div class="chat-dialog-header">
              <div class="chat-dialog-header-wrap">
                <transition tag="div" :name="transitionDialogHeader">
                  <div key='1' v-if="!selectedMessages.length" class="chat-dialog-header-info">
                    <div v-if="activeDialog" @click="openSettingsDialog" :key="activeDialog.title" class="title">
                      {{ activeDialog.title }}
                    </div>
                    <div class="online">
                    </div>
                  </div>
                  <div key='2' v-else class="chat-dialog-header-panel">
                    <!--<button @click="forwardMessage" class="chat-btn">
                      Прикрепить
                    </button>-->
                    <button @click="forwardMessage" class="chat-btn">
                      Переслать
                    </button>
                    <button @click="answerMessage" class="chat-btn">
                      Ответить
                    </button>
                    <button @click="removeMessage" class="chat-btn">
                      Удалить
                    </button>
                    <button @click="rejectSelecting" class="chat-btn">
                      Отменить
                    </button>
                  </div>
                </transition>
                <div @click="setFullScreen" class="chat-dialog-header-fullscreen">
                  <div class="chat-dialog-header-fullscreen-wrap">
                    <transition :name="transitionFullScreen">
                      <svg key="2" v-if="chat.settings.fullScreen"  fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10.4981 12.5042C11.0109 12.5042 11.4336 12.8903 11.4914 13.3876L11.4981 13.5042V21.0081C11.4981 21.5604 11.0504 22.0081 10.4981 22.0081C9.98527 22.0081 9.5626 21.6221 9.50484 21.1247L9.49811 21.0081L9.49758 15.915L3.70711 21.7067C3.34663 22.0672 2.7794 22.0949 2.38711 21.7899L2.2929 21.7067C1.93242 21.3462 1.90469 20.779 2.20971 20.3867L2.2929 20.2925L8.08058 14.504L2.99658 14.5042C2.4443 14.5042 1.99658 14.0565 1.99658 13.5042C1.99658 12.9914 2.38262 12.5687 2.87996 12.511L2.99658 12.5042H10.4981ZM13.4991 1.99902C14.0119 1.99902 14.4346 2.38506 14.4924 2.8824L14.4991 2.99902L14.4986 8.08602L20.2929 2.2925C20.6534 1.93202 21.2206 1.90429 21.6129 2.20931L21.7071 2.2925C22.0676 2.65299 22.0953 3.22022 21.7903 3.61251L21.7071 3.70672L15.9106 9.50202L21.0006 9.50291C21.5529 9.50291 22.0006 9.95063 22.0006 10.5029C22.0006 11.0157 21.6146 11.4384 21.1173 11.4962L21.0006 11.5029H13.4991C12.9863 11.5029 12.5636 11.1169 12.5058 10.6195L12.4991 10.5029V2.99902C12.4991 2.44674 12.9468 1.99902 13.4991 1.99902Z" fill="#212121"/></svg>
                      <svg key="1" v-else fill="none" height="15" viewBox="0 0 15 15" width="15" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M1 1H5V2H2.70711L5.85355 5.14645L5.14645 5.85355L2 2.70711V5H1V1ZM12.2929 2H10V1H14V5H13V2.70711L9.85355 5.85355L9.14645 5.14645L12.2929 2ZM5.85355 9.85355L2.70711 13H5V14H1V10H2V12.2929L5.14645 9.14645L5.85355 9.85355ZM9.85355 9.14645L13 12.2929L13 10L14 10L14 14H10V13H12.2929L9.14645 9.85355L9.85355 9.14645Z" fill="black" fill-rule="evenodd"/></svg>
                    </transition>
                  </div>
                </div>
              </div>
            </div>
            <div class="chat-dialog-content">
              <!-- v-if="activeDialog && activeDialog.messages.length" -->
              <div v-if="activeDialog && activeDialog.messages.length" class="chat-dialog-content-wrap">
                <div v-for="(item) in activeDialog.messages" class="chat-dialog-content-box">
                  <div class="date-row">
                    <div class="chat-dialog-content-date">{{ item.date }}</div>
                  </div>
                  <transition-group name="testanim" tag="div">
                    <message
                    :windowWidth="chat.settings.width"
                    @click="chooseMessageOther(message)"
                    @go-to-dialog="goToDialog"
                    @click-image="loadImageMessage"
                    @dblclick="chooseMessage(message)"
                    :choosedState="!!selectedMessages.length"
                    :key="message.id"
                    class="message"
                    :data-message="message.id"
                    :isYourselfMessage="isYourselfMessage(message)"
                    :class="[isYourselfMessage(message) ? 'yourself' : 'companion', message.choosed ? 'choosed' : '']"
                    v-for="(message, index) in item.messages"
                    :message="message"
                    />
                  </transition-group>
                </div>
              </div>
            </div>
            <transition name="answer-field">
              <div v-if="chat.answering" class="chat-dialog-answer">
                <div class="chat-dialog-answer__icon">
                  <svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g><path fill="currentColor" d="M288,298.1v92.3L448,256L288,112v80C100.8,192,64,400,64,400C117,307,186.4,298.1,288,298.1z"/></g>
                  </svg>
                </div>
                <div class="chat-dialog-answer-content">
                  <div class="chat-dialog-answer-content__messages">
                    <p>
                      Cообщений:
                    </p>
                    <transition tag="div" class="emptyNumber" name="number-change">
                      <span :key="selectedMessages.length">
                        {{ selectedMessages.length }}
                      </span>
                    </transition>

                  </div>
                </div>
                <div @click="closeAnswering" class="chat-dialog-answer__close">
                  <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
                  </svg>
                </div>
              </div>
            </transition>
            <transition name="answer-field">
              <div v-if="chat.forwarding.messagesForForward.length" class="chat-dialog-answer">
                <div class="chat-dialog-answer__icon">
                  <svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g><path fill="currentColor" d="M288,298.1v92.3L448,256L288,112v80C100.8,192,64,400,64,400C117,307,186.4,298.1,288,298.1z"/></g>
                  </svg>
                </div>
                <div class="chat-dialog-answer-content">
                  <div class="chat-dialog-answer-content__messages">
                    <p>
                      Cообщений:
                    </p>
                    <transition tag="div" class="emptyNumber" name="number-change">
                      <span :key="chat.forwarding.messagesForForward.length">
                        {{ chat.forwarding.messagesForForward.length }}
                      </span>
                    </transition>
                  </div>
                </div>
                <div @click="closeForwarding" class="chat-dialog-answer__close">
                  <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
                  </svg>
                </div>
              </div>
            </transition>
            <transition name="attachment-field">
              <div v-if="activeDialog.newMessage.attachment.files.length" class="chat-dialog-attachment">
                <div>
                  <div class="chat-dialog-attachment-wrap">
                    <div class="chat-dialog-attachment-list">
                      <div v-for="(file, index) in activeDialog.newMessage.attachment.files" :key="index" class="chat-dialog-attachment-list__file">
                        <div class="fileWrap">
                          <img v-if="file.type === 'image'" @click="openGalleryPopup(index, activeDialog.newMessage.attachment.files)" :src="file.src" alt="">
                          <video v-if="file.type === 'video'" @click="openGalleryPopup(index, activeDialog.newMessage.attachment.files)" :src="file.src" alt="">
                        </div>
                        <svg v-if="true" @click="removeAttachment({ file, index })" class="fileWrap__close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
                        </svg>
                      </div>
                    </div>
                  </div>
                  <div @click="closeAttachment" class="chat-dialog-attachment__close">
                    <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
                    </svg>
                  </div>
                </div>
              </div>
            </transition>
            <div class="chat-dialog-field">
              <div class="chat-dialog-field-wrap">
                <div class="chat-dialog-field-attach">
                  <label>
                    <svg @click="openAttachment" fill="currentColor" height="800px" width="800px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                      viewBox="0 0 511.988 511.988" xml:space="preserve">
                      <g>
                        <g>
                          <path d="M459.1,37.48c-49.999-49.973-131.045-49.973-181.018,0L21.594,295.355c-8.309,8.354-8.272,21.861,0.081,30.17
                            c8.354,8.309,21.861,8.272,30.17-0.081L308.293,67.609c33.271-33.271,87.308-33.271,120.641,0.045
                            c33.328,33.328,33.328,87.359,0,120.67L164.912,453.755c-20.787,20.772-54.563,20.772-75.396-0.046
                            c-20.826-20.826-20.826-54.593,0.006-75.425l218.731-218.731c0.007-0.007,0.013-0.015,0.02-0.022
                            c8.332-8.309,21.816-8.303,30.139,0.02c8.33,8.33,8.33,21.831,0,30.161l-105.58,105.602c-8.33,8.332-8.329,21.84,0.003,30.17
                            c8.332,8.33,21.84,8.329,30.17-0.003l105.579-105.6c24.991-24.991,24.991-65.507-0.002-90.499
                            c-24.993-24.993-65.508-24.993-90.501,0c-0.014,0.014-0.026,0.03-0.04,0.044L59.352,348.115
                            c-37.494,37.494-37.494,98.276,0,135.77c37.498,37.471,98.272,37.471,135.764,0.006L459.14,218.458
                            C509.096,168.528,509.096,87.476,459.1,37.48z"/>
                        </g>
                      </g>
                    </svg>
                    <input multiple @change="loadAttachment" type="file" accept=".pdf, image/png, image/jpeg, video/*">
                  </label>

                  <!--// -<transition name="modal-open">
                  // -  <div v-if="chat.attachment.isShow" class="chat-dialog-field-attach-modal">
                  // -  </div>
                  // -</transition>-->
                </div>
                <div class="chat-dialog-field__input">
                  <textarea v-model="activeDialog.newMessage.text" @keyup.ctrl.enter="sendMessage" placeholder="Введите сообщение" name="" id=""></textarea>
                </div>
                <div class="chat-dialog-field__control">
                  <svg @click="sendMessage" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 14L12.2728 19.3032C12.5856 20.0331 13.5586 20.1103 13.9486 19.4185C14.7183 18.0535 15.8591 15.8522 17 13C19 8 20 4 20 4M10 14L4.69678 11.7272C3.96687 11.4144 3.88975 10.4414 4.58149 10.0514C5.94647 9.28173 8.14784 8.14086 11 7C16 5 20 4 20 4M10 14L20 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div v-else class="loading">
            <svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" viewBox="0 0 38 38">
              <defs>
                  <linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a">
                      <stop stop-color="rgb(19, 94, 129)" stop-opacity="0" offset="0%"/>
                      <stop stop-color="rgb(19, 94, 129)" stop-opacity=".631" offset="63.146%"/>
                      <stop stop-color="rgb(19, 94, 129)" offset="100%"/>
                  </linearGradient>
              </defs>
              <g fill="none" fill-rule="evenodd">
                  <g transform="translate(1 1)">
                      <path d="M36 18c0-9.94-8.06-18-18-18" id="Oval-2" stroke="url(#a)" stroke-width="2">
                          <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/>
                      </path>
                      <circle fill="rgb(19, 94, 129)" cx="36" cy="18" r="1">
                          <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/>
                      </circle>
                  </g>
              </g>
            </svg>
          </div>
        </div>
      </div>
      <div class="portal">
        <div v-if="galleryPopup.isShow" class="popup popup--gallery">
          <div class="popup-wrap">
            <div class="popup-body">
              <vue-slick-carousel @swipe="afterChange()" ref="GallerySlick" :class="imagesInNewMessage.length === 1 ? 'single-slide' : ''" v-bind="slickOptions" :arrows="true" :dots="true">
                <div v-for="(file, imageIndex) in slickSlides" :key="'c1_image_' + imageIndex">
                  <img v-if="file.type === 'image'" :src="file.src">
                  <video controls v-if="file.type === 'video'" :src="file.src" alt=""></video>
                </div>
              </vue-slick-carousel>
              <svg @click="hideGalleryPopup" class="popup-close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="#fff"/>
              </svg>
            </div>
          </div>
        </div>
        <div v-if="galleryPopupMessage.isShow" class="popup">
          <div class="popup-wrap">
            <div class="popup-body">
              <vue-slick-carousel @beforeChange="afterChange" ref="messageGallerySlick" :class="galleryPopupMessage.images === 1 ? 'single-slide' : ''" v-bind="slickOptions" :arrows="true" :dots="true">
                <div v-for="(image, imageIndex) in galleryPopupMessage.images" :key="'c1_image_' + imageIndex" class="slide-wrap">
                  <img v-if="image.type === 'image'" :src="image.src">
                  <video controls v-if="image.type === 'video'" :src="image.src" alt=""></video>
                </div>
              </vue-slick-carousel>
              <svg @click="hideImageGalleryMessage" class="popup-close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
              </svg>
            </div>
          </div>
        </div>
        <modal v-if="chat.forwarding.isShow">
          <div class="modal-contacts">
            <div class="chat-contacts">
              <div class="chat-contacts__search">
                <div class="search">
                  <input v-model="chat.forwarding.searchField" placeholder="Поиск" type="text">
                  <div v-if="chat.forwarding.searchField" @click="clearSearchForward" class="search-close">
                    <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="black"/>
                    </svg>
                  </div>
                </div>
              </div>
              <div class="chat-contacts-wrap">
                <div v-if="searchedContactsForward.length" class="chat-contacts-list">
                  <contact :chat="chat" :contact="contact" v-for="(contact) in searchedContactsForward" :key="contact.id" @click="chooseDialog(contact)"/>
                </div>
                <div v-else class="chat-contacts__notfound">
                  Ничего не найдено
                </div>
              </div>
              <svg @click="hideForwardMessage" class="popup-close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
              </svg>
            </div>
          </div>
        </modal>
        <modal v-if="chat.newDialog.isShow">
          <div class="modal-contacts">
            <div class="chat-contacts">
              <div class="modal-contacts-title">
                Добавьте участников
              </div>
              <div class="new-dialog">
                <div v-if="chat.newDialog.stage === 0" class="new-dialog-members">
                  <div class="chat-contacts__search">
                    <div class="search">
                      <input v-model="chat.newDialog.searchField" placeholder="Поиск" type="text">
                      <div v-if="chat.newDialog.searchField" @click="clearSearch" class="search-close">
                        <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="black"/>
                        </svg>
                      </div>
                    </div>
                  </div>
                  <div class="chat-contacts-wrap">
                    <div v-if="searchedContactsMembers.length" class="chat-contacts-list">
                      <contact :showMessage="false" v-for="(contact) in searchedContactsMembers" :key="contact.id" :selected="chat.newDialog.members.includes(contact)" :class="chat.newDialog.members.includes(contact) ? 'selected' : ''" :chat="chat" :contact="contact"  @click="chooseInviteDialog(contact)"/>
                    </div>
                    <div v-else class="chat-contacts__notfound">
                      Ничего не найдено
                    </div>
                  </div>
                </div>
                <div v-else-if="chat.newDialog.stage === 1" class="">
                  <div class="">
                    <div class="chat-input chat-input--default full-width">
                      <label>
                        <p>Название группы</p>
                        <input v-model="chat.newDialog.title" type="text" placeholder="">
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="chat-contacts__panel">
                <button :class="(chat.newDialog.stage === 0 && !this.chat.newDialog.members.length) || (chat.newDialog.stage === 1 && !chat.newDialog.title.length) ? 'disable' : ''" @click="newDialogStep" class="chat-btn full-width">
                  Далее
                </button>
                <button v-if="chat.newDialog.stage === 1" @click="newDialogStepAway" class="chat-btn full-width">
                  Назад
                </button>
              </div>
              <svg @click="hideNewDialog" class="popup-close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
              </svg>
            </div>
          </div>
        </modal>
        <modal v-if="chat.dialogSettings.isShow">
          <div class="modal-dialog">
            <transition name="testanim">
              <div class="chat-dialog dialog">
                <div class="modal-contacts-title">
                  Информация
                </div>
                <div v-if="!chat.dialogInfo.images.isShow && !chat.dialogInfo.files.isShow && !chat.dialogInfo.videos.isShow" class="dialog-info">
                  <div class="dialog-info-header">
                    <div class="dialog-info-header__avatar">
                      <img :src="activeDialog.avatar" alt="">
                    </div>
                    <div class="dialog-info-header-info">
                      <div class="dialog-info-header-info__title">
                        {{ activeDialog.title }}
                      </div>
                      <div class="dialog-info-header-info__descr">
                        Just seen
                      </div>
                    </div>
                  </div>
                  <div class="dialog-info-attachments">
                    <div @click="openDialogImages('images')" v-if="activeDialog.dialogImages.length" class="dialog-info-attachments-el chat-pill chat-pill--icon">
                      <svg fill="#000000" height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 489.4 489.4" xml:space="preserve">
                        <g>
                          <g>
                            <path d="M0,437.8c0,28.5,23.2,51.6,51.6,51.6h386.2c28.5,0,51.6-23.2,51.6-51.6V51.6c0-28.5-23.2-51.6-51.6-51.6H51.6
                              C23.1,0,0,23.2,0,51.6C0,51.6,0,437.8,0,437.8z M437.8,464.9H51.6c-14.9,0-27.1-12.2-27.1-27.1v-64.5l92.8-92.8l79.3,79.3
                              c4.8,4.8,12.5,4.8,17.3,0l143.2-143.2l107.8,107.8v113.4C464.9,452.7,452.7,464.9,437.8,464.9z M51.6,24.5h386.2
                              c14.9,0,27.1,12.2,27.1,27.1v238.1l-99.2-99.1c-4.8-4.8-12.5-4.8-17.3,0L205.2,333.8l-79.3-79.3c-4.8-4.8-12.5-4.8-17.3,0
                              l-84.1,84.1v-287C24.5,36.7,36.7,24.5,51.6,24.5z"/>
                            <path d="M151.7,196.1c34.4,0,62.3-28,62.3-62.3s-28-62.3-62.3-62.3s-62.3,28-62.3,62.3S117.3,196.1,151.7,196.1z M151.7,96
                              c20.9,0,37.8,17,37.8,37.8s-17,37.8-37.8,37.8s-37.8-17-37.8-37.8S130.8,96,151.7,96z"/>
                          </g>
                        </g>
                      </svg>
                      <p class="dialog-info-attachments-el__count">{{ activeDialog.dialogImages.length }}</p><p>Фотографии</p>
                    </div>
                    <div @click="openDialogImages('files')" v-if="activeDialog.dialogFiles.length" class="dialog-info-attachments-el chat-pill chat-pill--icon">
                      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                        <defs>
                        </defs>
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                          <path d="M 85.433 80.656 H 4.567 C 2.049 80.656 0 78.607 0 76.089 V 13.911 c 0 -2.519 2.049 -4.567 4.567 -4.567 h 20.65 c 1.639 0 3.201 0.785 4.18 2.099 l 2.402 3.228 c 0.921 1.238 2.393 1.978 3.937 1.978 h 49.697 c 2.519 0 4.567 2.049 4.567 4.568 v 54.873 C 90 78.607 87.951 80.656 85.433 80.656 z M 4.567 11.344 C 3.152 11.344 2 12.496 2 13.911 v 62.178 c 0 1.416 1.152 2.567 2.567 2.567 h 80.865 c 1.416 0 2.567 -1.151 2.567 -2.567 V 21.216 c 0 -1.416 -1.151 -2.568 -2.567 -2.568 H 35.736 c -2.173 0 -4.245 -1.041 -5.541 -2.784 l -2.402 -3.228 c -0.603 -0.81 -1.565 -1.293 -2.575 -1.293 H 4.567 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                          <path d="M 85.433 80.656 H 4.567 C 2.049 80.656 0 78.607 0 76.089 V 29.463 c 0 -2.519 2.049 -4.567 4.567 -4.567 h 80.865 c 2.519 0 4.567 2.049 4.567 4.567 v 46.625 C 90 78.607 87.951 80.656 85.433 80.656 z M 4.567 26.896 C 3.152 26.896 2 28.048 2 29.463 v 46.625 c 0 1.416 1.152 2.567 2.567 2.567 h 80.865 c 1.416 0 2.567 -1.151 2.567 -2.567 V 29.463 c 0 -1.416 -1.151 -2.567 -2.567 -2.567 H 4.567 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                          <path d="M 84.215 74.656 H 5.785 c -0.552 0 -1 -0.447 -1 -1 s 0.448 -1 1 -1 h 78.43 c 0.553 0 1 0.447 1 1 S 84.768 74.656 84.215 74.656 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                        </g>
                      </svg>
                      <p class="dialog-info-attachments-el__count">{{ activeDialog.dialogFiles.length }}</p><p>Файлы</p>
                    </div>
                    <div @click="openDialogImages('videos')" v-if="activeDialog.dialogVideos.length" class="dialog-info-attachments-el chat-pill chat-pill--icon">
                      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                        <defs>
                        </defs>
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                          <path d="M 88 12.43 H 2 c -1.104 0 -2 0.896 -2 2 V 75.57 c 0 1.104 0.896 2 2 2 h 86 c 1.104 0 2 -0.896 2 -2 V 14.43 C 90 13.325 89.104 12.43 88 12.43 z M 12.763 43 H 4 v -6.75 h 8.763 V 43 z M 12.763 47 v 6.75 H 4 V 47 H 12.763 z M 12.763 32.25 H 4 V 25.5 h 8.763 V 32.25 z M 4 57.75 h 8.763 v 6.75 H 4 V 57.75 z M 16.763 16.43 h 56.475 V 73.57 H 16.763 V 16.43 z M 77.237 47 H 86 v 6.75 h -8.763 V 47 z M 77.237 43 v -6.75 H 86 V 43 H 77.237 z M 77.237 32.25 V 25.5 H 86 v 6.75 H 77.237 z M 77.237 57.75 H 86 v 6.75 h -8.763 V 57.75 z M 86 21.5 h -8.763 v -5.07 H 86 V 21.5 z M 12.763 16.43 v 5.07 H 4 v -5.07 H 12.763 z M 4 68.5 h 8.763 v 5.07 H 4 V 68.5 z M 77.237 73.57 V 68.5 H 86 v 5.07 H 77.237 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                          <path d="M 34.25 59.004 c -0.35 0 -0.7 -0.092 -1.012 -0.275 c -0.612 -0.359 -0.988 -1.016 -0.988 -1.725 V 32.996 c 0 -0.709 0.376 -1.366 0.988 -1.725 c 0.611 -0.36 1.367 -0.368 1.987 -0.021 l 21.5 12.004 c 0.633 0.353 1.025 1.021 1.025 1.746 s -0.393 1.393 -1.025 1.746 l -21.5 12.004 C 34.922 58.919 34.586 59.004 34.25 59.004 z M 36.25 36.403 v 17.193 L 51.647 45 L 36.25 36.403 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                        </g>
                      </svg>
                      <p class="dialog-info-attachments-el__count">{{ activeDialog.dialogVideos.length }}</p><p>Видео</p>
                    </div>
                  </div>
                  <div class="chat-toggle chat-pill chat-pill--icon">
                    <svg fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
                      <g id="Bell">
                        <path d="M46.6674995,8.6586504c-0.5527992,0-1,0.4473-1,1c0,0.5527992,0.4472008,1,1,1
                          c3.5185013,0,6.3808022,2.8622999,6.3808022,6.3809004c0,0.5527,0.4473,1,1,1c0.5527992,0,1-0.4473,1-1
                          C55.0483017,12.4184504,51.2886009,8.6586504,46.6674995,8.6586504z"/>
                        <path d="M8.9517002,17.0395508c0,0.5527,0.4471998,1,1,1c0.5527,0,1-0.4473,1-1
                          c0-3.5186005,2.8622999-6.3809004,6.3808002-6.3809004c0.5527992,0,1-0.4472008,1-1c0-0.5527-0.4472008-1-1-1
                          C12.7114,8.6586504,8.9517002,12.4184504,8.9517002,17.0395508z"/>
                        <path d="M48.1431007,1.27785c-0.5527992,0-1,0.4473-1,0.9999999s0.4472008,1,1,1
                          c6.7743988,0,12.2860985,5.5107002,12.2860985,12.2851c0,0.5527992,0.4473,1,1,1s1-0.4472008,1-1
                          C62.4291992,7.6860499,56.0200005,1.27785,48.1431007,1.27785z"/>
                        <path d="M16.8560009,2.2778499c0-0.5526999-0.4473-0.9999999-1.000001-0.9999999
                          c-7.8769999,0-14.2852001,6.4081998-14.2852001,14.2851c0,0.5527992,0.4473001,1,1.0000001,1s1-0.4472008,1-1
                          c0-6.7743998,5.5107002-12.2851,12.2852001-12.2851C16.4087009,3.2778499,16.8560009,2.83055,16.8560009,2.2778499z"/>
                        <path d="M51.7932014,46.2020493c-0.1280022-0.3828011-0.3692017-0.6965981-0.6621017-0.9463997
                          c0.0236015-0.6092987,0.0386009-1.2222977,0.0386009-1.8409996c0-13.6198997-5.641201-25.1546001-13.4345016-29.1104012
                          c0.1161003-0.4706001,0.1844025-0.9601002,0.1844025-1.4666996c0-3.3774004-2.7380028-6.1154003-6.1154022-6.1154003
                          s-6.1153984,2.7379999-6.1153984,6.1154003c0,0.5065994,0.0682983,0.9960995,0.1843987,1.4666996
                          C18.0799007,18.2600498,12.4386997,29.7947502,12.4386997,43.41465c0,0.6187019,0.0150003,1.2317009,0.0386,1.8409996
                          c-0.2929001,0.2498016-0.5340996,0.5635986-0.6620998,0.9463997l-2.8975,8.6665993
                          c-0.4692001,1.4033012,0.5754004,2.8535004,2.0555,2.8535004h14.1247005c0.8610001,2.8908005,3.535799,5,6.7062988,5
                          s5.8453026-2.1091995,6.7063026-5h14.1246986c1.4800987,0,2.5247002-1.4501991,2.0555-2.8535004L51.7932014,46.2020493z
                          M26.7959003,16.1219501l1.4443989-0.7332001l-0.3878994-1.5727005c-0.0841999-0.3413-0.1252003-0.6613998-0.1252003-0.9784994
                          c0-2.2480001,1.8290005-4.0769005,4.0769997-4.0769005s4.0769997,1.8289003,4.0769997,4.0769005
                          c0,0.3170996-0.0410004,0.6371994-0.1251984,0.9784994l-0.3879013,1.5727005L36.8125,16.1219501
                          c7.2531013,3.6816006,12.3186989,14.9046993,12.3186989,27.2926998c0,0.4183006-0.0060997,0.8419991-0.0181007,1.2691002
                          H14.4953003c-0.0120001-0.4271011-0.0181007-0.8507996-0.0181007-1.2691002
                          C14.4771996,31.0266495,19.5428009,19.8035507,26.7959003,16.1219501z M31.8041992,60.7221489
                          c-2.0464001,0-3.8094997-1.2355003-4.5824986-3h9.164999C35.6137009,59.4866486,33.8506012,60.7221489,31.8041992,60.7221489z
                          M52.7711983,55.6526489c-0.0500984,0.0695-0.1102982,0.0695-0.1359978,0.0695H38.8041992h-14H10.9731998
                          c-0.0256996,0-0.0859003,0-0.1359997-0.0695c-0.0496998-0.0690994-0.0307999-0.1256981-0.0227003-0.1497993l2.8975-8.6665993
                          c0.0229006-0.0681992,0.0866003-0.1141014,0.1588001-0.1141014h35.8667984c0.0722008,0,0.1359024,0.0459023,0.158802,0.1140022
                          l2.8974991,8.6666985C52.8019981,55.5269508,52.8209,55.5835495,52.7711983,55.6526489z"/>
                      </g>
                    </svg>
                    <div class="chat-toggle-info">
                      <p class="chat-toggle-info-label">
                        Уведомления
                      </p>
                      <div class="">
                        <label>
                          <div :class="activeDialog.notification ? 'toggled' : ''" class="chat-toggle-info-wrap">
                            <div class="chat-toggle-info-thumb"></div>
                          </div>
                          <input v-model="activeDialog.notification" type="checkbox">
                        </label>
                      </div>
                    </div>
                  </div>
                  <div v-if="activeDialog.group" class="dialog-info-members">
                    <contact :removing="true" :showMessage="false" v-for="(contact) in activeDialog.members" :key="contact.id" :chat="chat" :contact="contact" @removecontact="removeContact" />
                  </div>
                </div>
                <div v-else-if="chat.dialogInfo.images.isShow" class="dialog-images">
                  <img @click="openGalleryPopup(index, activeDialog.dialogImages)" v-for="(image, index) in activeDialog.dialogImages" :src="image.src" alt="">
                </div>
                <div v-else-if="chat.dialogInfo.files.isShow" class="dialog-images">
                  <div v-for="(file, index) in activeDialog.dialogFiles">
                    <p>
                      {{ file }}
                    </p>
                  </div>
                </div>
                <div v-else-if="chat.dialogInfo.videos.isShow" class="dialog-images">
                  <div v-for="(video, index) in activeDialog.dialogVideos">
                    <video :src="video.src" controls></video>
                  </div>
                </div>
                <div v-if="activeDialog.group" class="modal-panel">
                  <button class="chat-btn chat-btn--red chat-btn--boundless">
                    Покинуть
                  </button>
                </div>
                <svg @click="hideSettinsDialog" class="popup-close" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.1562 1.41L12.7463 0L7.15625 5.59L1.56625 0L0.15625 1.41L5.74625 7L0.15625 12.59L1.56625 14L7.15625 8.41L12.7463 14L14.1562 12.59L8.56625 7L14.1562 1.41Z" fill="currentColor"/>
                </svg>
              </div>

            </transition>
          </div>
        </modal>
      </div>
    </div>
  </div>
  <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
  <link rel="stylesheet" href="style/fontawesome-free-5.15.4-web/css/chat.css?ver=1">
  <link rel="stylesheet" href="style/fontawesome-free-5.15.4-web/css/transition.css?ver=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vue-slick-carousel@1.0.6/dist/vue-slick-carousel-theme.min.css">
  <link rel="stylesheet" href="style/fontawesome-free-5.15.4-web/css/slick.css?ver=1">
  <script src="./js/vue2.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-slick-carousel@1.0.6/dist/vue-slick-carousel.umd.min.js"></script>
  <script src="https://unpkg.com/vue-masonry@0.11.3/dist/vue-masonry-plugin-window.js"></script>
  <script type="module" src="./js/chat.js"></script>

 </body>
</html>

